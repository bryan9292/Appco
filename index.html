<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Materials</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #0b0b0b;
  font-family: system-ui, sans-serif;
  color: #f2f2f2;
}

/* TOP BAR */
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding: 12px 20px;
  background: #111;
  border-bottom: 1px solid #2a2a2a;
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  z-index: 10;
}

.checkout {
  padding: 10px 18px;
  border-radius: 8px;
  background: #1e1e1e;
  border: 1px solid #3a3a3a;
  color: #f2f2f2;
  cursor: pointer;
}

/* MAIN */
.container {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 70px;
}
</style>
</head>

<body>

<div class="topbar">
  <button class="checkout" id="checkoutBtn" onclick="openCart()">Checkout</button>
</div>

<div class="container">
  <!-- PIPE SECTION LOADED HERE -->
  <div id="section"></div>
</div>

<!-- CART MODAL -->
<div class="overlay" id="cartOverlay" onclick="closeCart()"></div>

<script>
/* GLOBAL CART (shared) */
window.cart = [];

/* Called by pipe.html */
window.addToCart = function(item) {
  window.cart.push(item);
  document.getElementById("checkoutBtn").innerText =
    `Checkout (${window.cart.length})`;
};

function openCart() {
  alert(
    window.cart.length
      ? window.cart.map(
          (c,i)=>`${i+1}. ${c.size} | ${c.material} | ${c.schedule} | ${c.ends} | Qty ${c.qty}`
        ).join("\n")
      : "Cart is empty"
  );
}

function closeCart(){}

/* Load PIPE */
fetch("pipe.html")
  .then(res => res.text())
  .then(html => {
    document.getElementById("section").innerHTML = html;
  });
</script>

</body>
</html>
